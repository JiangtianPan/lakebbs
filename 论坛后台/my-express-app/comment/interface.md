# 接口文档

## 用户接口

### 用户注册
- **URL**: `/user/register`
- **方法**: `POST`
- **请求参数**:
  - `account`: 用户账号
  - `password`: 用户密码
  - `name`: 用户姓名
  - `avatar`: 用户头像URL
- **成功响应**:
  - **状态码**: `201`
  - **内容**: `{ message: '用户注册成功', data: newUser }`
- **失败响应**:
  - **状态码**: `500`
  - **内容**: `{ message: '用户注册失败', error: error }`

### 用户登录
- **URL**: `/user/login`
- **方法**: `POST`
- **请求参数**:
  - `account`: 用户账号
  - `password`: 用户密码
- **成功响应**:
  - **状态码**: `200`
  - **内容**: `{ message: '登录成功', data: user }`
- **失败响应**:
  - **状态码**: `401`
  - **内容**: `{ message: '账号或密码错误' }`
  - **状态码**: `500`
  - **内容**: `{ message: '登录失败', error: error }`

### 获取用户信息
- **URL**: `/user/:id`
- **方法**: `GET`
- **请求参数**:
  - `id`: 用户ID
- **成功响应**:
  - **状态码**: `200`
  - **内容**: `{ message: '获取用户信息成功', data: user }`
- **失败响应**:
  - **状态码**: `404`
  - **内容**: `{ message: '用户不存在' }`
  - **状态码**: `500`
  - **内容**: `{ message: '获取用户信息失败', error: error }`

### 更新用户信息
- **URL**: `/user/:id`
- **方法**: `PUT`
- **请求参数**:
  - `id`: 用户ID
  - `name`: 用户姓名
  - `avatar`: 用户头像URL
- **成功响应**:
  - **状态码**: `200`
  - **内容**: `{ message: '用户信息更新成功', data: user }`
- **失败响应**:
  - **状态码**: `404`
  - **内容**: `{ message: '用户不存在' }`
  - **状态码**: `500`
  - **内容**: `{ message: '更新用户信息失败', error: error }`

## 帖子接口

### 创建帖子
- **URL**: `/post`
- **方法**: `POST`
- **请求参数**:
  - `userId`: 用户ID
  - `content`: 帖子内容
- **成功响应**:
  - **状态码**: `201`
  - **内容**: `{ message: '帖子创建成功', data: newPost }`
- **失败响应**:
  - **状态码**: `500`
  - **内容**: `{ message: '帖子创建失败', error: error }`

### 获取特定用户的帖子列表
- **URL**: `/post/user/:userId`
- **方法**: `GET`
- **请求参数**:
  - `userId`: 用户ID
- **成功响应**:
  - **状态码**: `200`
  - **内容**: `{ message: '获取用户帖子列表成功', data: posts }`
- **失败响应**:
  - **状态码**: `500`
  - **内容**: `{ message: '获取用户帖子列表失败', error: error }`

### 获取特定帖子
- **URL**: `/post/:postId`
- **方法**: `GET`
- **请求参数**:
  - `postId`: 帖子ID
- **成功响应**:
  - **状态码**: `200`
  - **内容**: `{ message: '获取帖子成功', data: post }`
- **失败响应**:
  - **状态码**: `404`
  - **内容**: `{ message: '帖子不存在' }`
  - **状态码**: `500`
  - **内容**: `{ message: '获取帖子失败', error: error }`

### 更新帖子
- **URL**: `/post/:postId`
- **方法**: `PUT`
- **请求参数**:
  - `postId`: 帖子ID
  - `content`: 帖子内容
- **成功响应**:
  - **状态码**: `200`
  - **内容**: `{ message: '帖子更新成功', data: post }`
- **失败响应**:
  - **状态码**: `404`
  - **内容**: `{ message: '帖子不存在' }`
  - **状态码**: `500`
  - **内容**: `{ message: '更新帖子失败', error: error }`

### 删除帖子
- **URL**: `/post/:postId`
- **方法**: `DELETE`
- **请求参数**:
  - `postId`: 帖子ID
- **成功响应**:
  - **状态码**: `200`
  - **内容**: `{ message: '帖子删除成功' }`
- **失败响应**:
  - **状态码**: `404`
  - **内容**: `{ message: '帖子不存在' }`
  - **状态码**: `500`
  - **内容**: `{ message: '删除帖子失败', error: error }`

## 关注接口

### 创建关注
- **URL**: `/follow`
- **方法**: `POST`
- **请求参数**:
  - `followerId`: 关注者用户ID
  - `followedId`: 被关注者用户ID
- **成功响应**:
  - **状态码**: `201`
  - **内容**: `{ message: '关注成功', data: newFollow }`
- **失败响应**:
  - **状态码**: `500`
  - **内容**: `{ message: '关注失败', error: error }`

### 获取特定用户的关注列表
- **URL**: `/follow/follower/:userId`
- **方法**: `GET`
- **请求参数**:
  - `userId`: 用户ID
- **成功响应**:
  - **状态码**: `200`
  - **内容**: `{ message: '获取关注列表成功', data: follows }`
- **失败响应**:
  - **状态码**: `500`
  - **内容**: `{ message: '获取关注列表失败', error: error }`

### 取消关注
- **URL**: `/follow`
- **方法**: `DELETE`
- **请求参数**:
  - `followerId`: 关注者用户ID
  - `followedId`: 被关注者用户ID
- **成功响应**:
  - **状态码**: `200`
  - **内容**: `{ message: '取消关注成功' }`
- **失败响应**:
  - **状态码**: `404`
  - **内容**: `{ message: '关注记录不存在' }`
  - **状态码**: `500`
  - **内容**: `{ message: '取消关注失败', error: error }`

### 点赞帖子
- **URL**: `/like/post/:postId`
- **方法**: `POST`
- **请求参数**:
  - `userId`: 用户ID
- **成功响应**:
  - **状态码**: `201`
  - **内容**: `{ message: '点赞成功', data: newLike }`
- **失败响应**:
  - **状态码**: `500`
  - **内容**: `{ message: '点赞失败', error: error }`

### 获取特定帖子的所有点赞
- **URL**: `/like/post/:postId`
- **方法**: `GET`
- **请求参数**:
  - `postId`: 帖子ID
- **成功响应**:
  - **状态码**: `200`
  - **内容**: `{ message: '获取点赞成功', data: likes }`
- **失败响应**:
  - **状态码**: `500`
  - **内容**: `{ message: '获取点赞失败', error: error }`

### 取消点赞
- **URL**: `/like/post/:postId`
- **方法**: `DELETE`
- **请求参数**:
  - `userId`: 用户ID
- **成功响应**:
  - **状态码**: `200`
  - **内容**: `{ message: '取消点赞成功' }`
- **失败响应**:
  - **状态码**: `404`
  - **内容**: `{ message: '点赞记录不存在' }`
  - **状态码**: `500`
  - **内容**: `{ message: '取消点赞失败', error: error }`
### 添加评论
  - **URL**: `/comment/post/:postId`
  - **方法**: `POST`
  - **请求参数**:
    - `userId`: 用户ID
    - `content`: 评论内容
  - **成功响应**:
    - **状态码**: `201`
    - **内容**: `{ message: '评论成功', data: newComment }`
  - **失败响应**:
    - **状态码**: `400`
    - **内容**: `{ message: '评论内容不能为空' }`
    - **状态码**: `404`
    - **内容**: `{ message: '帖子不存在' }`
    - **状态码**: `500`
    - **内容**: `{ message: '评论失败', error: error }`

  ### 获取特定帖子的所有评论
  - **URL**: `/comment/post/:postId`
  - **方法**: `GET`
  - **请求参数**:
    - `postId`: 帖子ID
  - **成功响应**:
    - **状态码**: `200`
    - **内容**: `{ message: '获取评论成功', data: comments }`
  - **失败响应**:
    - **状态码**: `404`
    - **内容**: `{ message: '帖子不存在' }`
    - **状态码**: `500`
    - **内容**: `{ message: '获取评论失败', error: error }`

  ### 删除评论
  - **URL**: `/comment/:commentId`
  - **方法**: `DELETE`
  - **请求参数**:
    - `commentId`: 评论ID
  - **成功响应**:
    - **状态码**: `200`
    - **内容**: `{ message: '删除评论成功' }`
  - **失败响应**:
    - **状态码**: `404`
    - **内容**: `{ message: '评论不存在' }`
    - **状态码**: `500`
    - **内容**: `{ message: '删除评论失败', error: error }`

## 广告接口

### 创建广告
- **URL**: `/ad/create`
- **方法**: `POST`
- **请求参数**:
  - `imageUrl`: 广告图片的URL
  - `description`: 广告描述
- **成功响应**:
  - **状态码**: `201`
  - **内容**: `{ message: '广告创建成功', data: newAd }`
- **失败响应**:
  - **状态码**: `500`
  - **内容**: `{ message: '创建广告失败', error: error }`

### 获取所有广告
- **URL**: `/ad/all`
- **方法**: `GET`
- **成功响应**:
  - **状态码**: `200`
  - **内容**: `{ message: '获取广告成功', data: ads }`
- **失败响应**:
  - **状态码**: `500`
  - **内容**: `{ message: '获取广告失败', error: error }`
### 删除广告
- **URL**: `/ad/:adId`
- **方法**: `DELETE`
- **请求参数**:
  - `adId`: 广告ID
- **成功响应**:
  - **状态码**: `200`
  - **内容**: `{ message: '广告删除成功' }`
- **失败响应**:
  - **状态码**: `404`
  - **内容**: `{ message: '广告不存在' }`
  - **状态码**: `500`
  - **内容**: `{ message: '删除广告失败', error: error }`

